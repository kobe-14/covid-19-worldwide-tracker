{"version":3,"sources":["services/api-services.js","Components/BouncingLoader/BouncingLoader.js","Components/MapComponent/VisualisationModal.js","Components/MapComponent/MapComponentRender.js","App.js","index.js"],"names":["Axios","require","default","API","apiBase","get","url","params","timeout","axios","method","this","_apiBase","create","baseURL","defaults","headers","post","BouncingLoader","className","VisualisationModal","props","open","close","countries","selectedCountry","useState","plotData","setPlotData","setAgainstCountry","Modal","Header","Content","style","display","alignItems","Select","options","filter","country","map","text","value","key","search","onChange","e","ed","findCountryData","find","obj1","x","y","active","recovered","deaths","cases","name","type","obj2","onCountryChange","length","data","layout","height","title","barmode","useResizeHandler","width","Actions","Button","negative","onClick","customMarker","L","icon","iconUrl","iconSize","iconAnchor","popupAnchor","bounds","LatLngBounds","LatLng","MapComponentRender","center","setCountries","loading","setLoading","setSelectedCountry","visualisationModal","setVisualisationModal","useEffect","then","res","catch","console","log","Map","zoom","minZoom","maxBounds","maxBoundsViscosity","TileLayer","attribution","noWrap","Marker","position","countryInfo","lat","long","Popup","src","flag","alt","todayCases","toString","replace","todayDeaths","todayRecovered","Date","updated","toLocaleString","primary","evt","event","onVisButtonClick","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d01ea6e5.chunk.js","sourcesContent":["const { default: Axios } = require(\"axios\");\n\nconst apiBase = \"https://corona.lmao.ninja/v2\";\n\nclass api {\n  constructor(apiBase) {\n    this._apiBase = apiBase;\n\n    this.axios = Axios.create({\n      baseURL: this._apiBase,\n      timeout: 10000,\n    });\n    this.axios.defaults.headers.post[\"Content-Type\"] = \"application/json\";\n  }\n\n  get apiBase() {\n    return this._apiBase;\n  }\n\n  get = (url, params = {}, timeout) => {\n    return this.axios({\n      method: \"get\",\n      url,\n      params,\n      timeout: timeout ?? this.timeout,\n    });\n  };\n}\n\nconst API = new api(apiBase);\n\nexport { API };\n","import React from \"react\";\n\nimport \"./BouncingLoader.css\";\n\nconst BouncingLoader = () => {\n  return (\n    <div className=\"bouncing-loader\">\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n  );\n};\n\nexport default BouncingLoader;\n","import React, { useState } from \"react\";\nimport { Modal, Button, Select } from \"semantic-ui-react\";\nimport Plot from \"react-plotly.js\";\n\nconst VisualisationModal = (props) => {\n  const { open, close, countries, selectedCountry } = props;\n  const [plotData, setPlotData] = useState([]);\n  const [againstCountry, setAgainstCountry] = useState(\"\");\n\n  const onCountryChange = (e, ed) => {\n    const findCountryData = countries.find(\n      (country) => country.country === ed.value\n    );\n    setAgainstCountry(findCountryData.country);\n    let obj1 = {\n      x: [\"Active Cases\", \"Recovered Cases\", \"Deaths\", \"Total Cases\"],\n      y: [\n        selectedCountry.active,\n        selectedCountry.recovered,\n        selectedCountry.deaths,\n        selectedCountry.cases,\n      ],\n      name: selectedCountry.country,\n      type: \"bar\",\n    };\n    let obj2 = {\n      x: [\"Active Cases\", \"Recovered Cases\", \"Deaths\", \"Total Cases\"],\n      y: [\n        findCountryData.active,\n        findCountryData.recovered,\n        findCountryData.deaths,\n        findCountryData.cases,\n      ],\n      name: findCountryData.country,\n      type: \"bar\",\n    };\n    const data = [obj1, obj2];\n    setPlotData(data);\n  };\n\n  return (\n    <Modal open={open}>\n      <Modal.Header>Country Comparison</Modal.Header>\n      <Modal.Content>\n        <span style={{ display: \"flex\", alignItems: \"center\" }}>\n          <span>Select a Country</span>\n          <Select\n            options={countries\n              .filter((country) => country.country !== selectedCountry.country)\n              .map((country) => {\n                return {\n                  text: country.country,\n                  value: country.country,\n                  key: country.country,\n                };\n              })}\n            search\n            onChange={(e, ed) => {\n              onCountryChange(e, ed);\n            }}\n          />\n        </span>\n        {plotData.length > 0 ? (\n          <Plot\n            data={plotData}\n            layout={{\n              // width: 700,\n              height: 240,\n              title: \"Comparison\",\n              barmode: \"group\",\n              useResizeHandler: true,\n              style: { width: \"100%\", height: \"100%\" },\n            }}\n          />\n        ) : (\n          <></>\n        )}\n      </Modal.Content>\n      <Modal.Actions>\n        <Button negative onClick={close}>\n          Close\n        </Button>\n      </Modal.Actions>\n    </Modal>\n  );\n};\n\nexport default VisualisationModal;\n","import React, { useState, useEffect } from \"react\";\nimport { Map, TileLayer, Marker, Popup } from \"react-leaflet\";\nimport L from \"leaflet\";\n\nimport \"./MapComponentRender.css\";\nimport { API } from \"../../services/api-services\";\nimport BouncingLoader from \"../BouncingLoader/BouncingLoader\";\nimport { Button } from \"semantic-ui-react\";\nimport VisualisationModal from \"./VisualisationModal\";\n\nconst customMarker = new L.icon({\n  iconUrl: \"https://unpkg.com/leaflet@1.5.1/dist/images/marker-icon.png\",\n  iconSize: [25, 41],\n  iconAnchor: [10, 41],\n  popupAnchor: [2, -40],\n});\nconst bounds = new L.LatLngBounds(\n  new L.LatLng(-89.98155760646617, -180),\n  new L.LatLng(89.99346179538875, 180)\n);\n\nconst MapComponentRender = () => {\n  const [center, setCenter] = useState([0.0, 0.0]);\n  const [countries, setCountries] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedCountry, setSelectedCountry] = useState({});\n  const [visualisationModal, setVisualisationModal] = useState(false);\n\n  useEffect(() => {\n    setLoading(true);\n    API.get(\"/countries\")\n      .then((res) => {\n        setCountries(res.data);\n        setLoading(false);\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  }, []);\n\n  const onVisButtonClick = (event, country) => {\n    setSelectedCountry(country);\n    setVisualisationModal(true);\n  };\n\n  const closeModal = () => setVisualisationModal(false);\n\n  return (\n    <div className=\"map-component-wrapper\">\n      {visualisationModal ? (\n        <VisualisationModal\n          open={visualisationModal}\n          close={closeModal}\n          countries={countries}\n          selectedCountry={selectedCountry}\n        />\n      ) : (\n        <></>\n      )}\n      {loading ? (\n        <BouncingLoader />\n      ) : (\n        <Map\n          center={center}\n          zoom={3}\n          className=\"map\"\n          minZoom={2.5}\n          bounds={bounds}\n          maxBounds={bounds}\n          maxBoundsViscosity={0.75}\n        >\n          <TileLayer\n            attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n            noWrap\n          />\n          {countries.map((country) => (\n            <Marker\n              position={[country.countryInfo.lat, country.countryInfo.long]}\n              icon={customMarker}\n              key={country.country}\n            >\n              <Popup>\n                <div className=\"popop-container\">\n                  <div className=\"popup-header\">\n                    <span>\n                      <img\n                        src={country.countryInfo.flag}\n                        alt={country.country}\n                      />\n                    </span>\n                    <span className=\"country-name\">{country.country}</span>\n                  </div>\n                  <div className=\"popup-body\">\n                    <p>\n                      <span>\n                        <b>Today's Cases:</b>\n                      </span>\n                      <span>\n                        {country.todayCases\n                          .toString()\n                          .replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")}\n                      </span>\n                    </p>\n                    <p>\n                      <span>\n                        <b>Today's Deaths:</b>\n                      </span>\n                      <span>\n                        {country.todayDeaths\n                          .toString()\n                          .replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")}\n                      </span>\n                    </p>\n                    <p>\n                      <span>\n                        <b>Today's Recovery:</b>\n                      </span>\n                      <span>\n                        {country.todayRecovered\n                          .toString()\n                          .replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")}\n                      </span>\n                    </p>\n                    <p>\n                      <span>\n                        <b>Active:</b>\n                      </span>\n                      <span>\n                        {country.active\n                          .toString()\n                          .replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")}\n                      </span>\n                    </p>\n                    <p>\n                      <span>\n                        <b>Recovered:</b>\n                      </span>\n                      <span>\n                        {country.recovered\n                          .toString()\n                          .replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")}\n                      </span>\n                    </p>\n                    <p>\n                      <span>\n                        <b>Deaths:</b>\n                      </span>\n                      <span>\n                        {country.deaths\n                          .toString()\n                          .replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")}\n                      </span>\n                    </p>\n                    <p>\n                      <span>\n                        <b>Total Cases:</b>\n                      </span>\n                      <span>\n                        {country.cases\n                          .toString()\n                          .replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")}\n                      </span>\n                    </p>\n                    <p>\n                      <span>\n                        <b>Updated At:</b>\n                      </span>\n                      <span>{new Date(country.updated).toLocaleString()}</span>\n                    </p>\n                  </div>\n                  <Button\n                    primary\n                    onClick={(evt) => onVisButtonClick(evt, country)}\n                  >\n                    Compare {country.country} with other countries\n                  </Button>\n                </div>\n              </Popup>\n            </Marker>\n          ))}\n        </Map>\n      )}\n    </div>\n  );\n};\n\nexport default MapComponentRender;\n","import React, { useEffect } from \"react\";\nimport \"./App.css\";\nimport { API } from \"./services/api-services\";\n\nimport MapComponent from \"./Components/MapComponent/MapComponentRender\";\n\nfunction App() {\n  return (\n    <>\n      <MapComponent />\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n// import * as serviceWorker from './serviceWorker';\n\nimport \"leaflet/dist/leaflet.css\";\nimport \"semantic-ui-css/semantic.min.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}